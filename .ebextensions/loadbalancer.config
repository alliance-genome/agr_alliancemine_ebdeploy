option_settings:
  # ALB Configuration
  aws:elasticbeanstalk:environment:
    LoadBalancerType: application
    
  # HTTPS Listener for main AllianceMine (port 8080)
  aws:elbv2:listener:443:
    SSLCertificateArns: arn:aws:acm:us-east-1:100225593120:certificate/047a56a2-09dd-4857-9f28-32d23650d4da
    Protocol: HTTPS

  # HTTPS Listener for BlueGenes (port 5000)  
  aws:elbv2:listener:444:
    SSLCertificateArns: arn:aws:acm:us-east-1:100225593120:certificate/047a56a2-09dd-4857-9f28-32d23650d4da
    Protocol: HTTPS
    DefaultProcess: bluegenes

  # Health Check Configuration - Faster response (60s instead of 90s)
  aws:elasticbeanstalk:environment:process:default:
    HealthCheckPath: /alliancemine/begin.do
    HealthCheckIntervalSeconds: 30
    HealthCheckTimeoutSeconds: 5
    HealthyThresholdCount: 2
    UnhealthyThresholdCount: 2
    Port: 8080
    Protocol: HTTP

  # BlueGenes Process Configuration
  aws:elasticbeanstalk:environment:process:bluegenes:
    HealthCheckPath: /
    Port: 5000
    Protocol: HTTP

  # Load Balancer Security Group
  aws:elbv2:loadbalancer:
    SecurityGroups: sg-21ac675b
